# Memory（用于 coding agent 的可检索记忆）

本目录将“记忆”拆分为两层：
- `SUMMARY.md`：**简化摘要**（用于启动时快速扫一遍，决定需要加载哪些详细记录）
- `entries/`：**详细记录**（每次迭代一个文件，只追加）

## 为什么要分层
- 详细记录会随迭代变长，不能每次启动都全量加载。
- 摘要用于“选择性加载”，详细记录用于“可追溯还原”。

## 写入规则
1) 每次迭代结束：
   - 新增一个 `entries/YYYY-MM-DD_<topic>__<tags>.md`（复制模板填充）
   - 在 `SUMMARY.md` 追加 1–3 行简化摘要，并链接到该 entry
2) `entries/` 只追加，不拆分旧文件，不回写重写历史。

## compact 规则
当 `SUMMARY.md` 过长或不再“简化”：
- 只 compact `SUMMARY.md`，把旧条目压缩成更短的索引；
- 保留到 `entries/*` 的链接；
- 不删除/不重写 `entries/*`。

